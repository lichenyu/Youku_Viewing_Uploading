library(igraph)

data1000_heavy = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_1000_heavy", header=FALSE, sep="\t")
data2000_heavy = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_2000_heavy", header=FALSE, sep="\t")
data3000_heavy = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_3000_heavy", header=FALSE, sep="\t")
data4000_heavy = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_4000_heavy", header=FALSE, sep="\t")
data5000_heavy = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_5000_heavy", header=FALSE, sep="\t")
data6000_heavy = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_6000_heavy", header=FALSE, sep="\t")
data10000_heavy = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_10000_heavy", header=FALSE, sep="\t")

data1000_ran = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_1000_ran", header=FALSE, sep="\t")
data2000_ran = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_2000_ran", header=FALSE, sep="\t")
data3000_ran = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_3000_ran", header=FALSE, sep="\t")
data4000_ran = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_4000_ran", header=FALSE, sep="\t")
data5000_ran = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_5000_ran", header=FALSE, sep="\t")
data6000_ran = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_6000_ran", header=FALSE, sep="\t")
data10000_ran = read.table("F:\\Youku_HLJ_1504\\analysis\\7_small_world\\user_small_world_10000_ran", header=FALSE, sep="\t")

d1000_heavy = data.frame(data1000_heavy$V2,data1000_heavy$V3)
d2000_heavy = data.frame(data2000_heavy$V2,data2000_heavy$V3)
d3000_heavy = data.frame(data3000_heavy$V2,data3000_heavy$V3)
d4000_heavy = data.frame(data4000_heavy$V2,data4000_heavy$V3)
d5000_heavy = data.frame(data5000_heavy$V2,data5000_heavy$V3)
d6000_heavy = data.frame(data6000_heavy$V2,data6000_heavy$V3)
d10000_heavy = data.frame(data10000_heavy$V2,data10000_heavy$V3)
g1000_heavy = graph.data.frame(d1000_heavy,directed=FALSE)
g2000_heavy = graph.data.frame(d2000_heavy,directed=FALSE)
g3000_heavy = graph.data.frame(d3000_heavy,directed=FALSE)
g4000_heavy = graph.data.frame(d4000_heavy,directed=FALSE)
g5000_heavy = graph.data.frame(d5000_heavy,directed=FALSE)
g6000_heavy = graph.data.frame(d6000_heavy,directed=FALSE)
g10000_heavy = graph.data.frame(d10000_heavy,directed=FALSE)

d1000_ran = data.frame(data1000_ran$V2,data1000_ran$V3)
d2000_ran = data.frame(data2000_ran$V2,data2000_ran$V3)
d3000_ran = data.frame(data3000_ran$V2,data3000_ran$V3)
d4000_ran = data.frame(data4000_ran$V2,data4000_ran$V3)
d5000_ran = data.frame(data5000_ran$V2,data5000_ran$V3)
d6000_ran = data.frame(data6000_ran$V2,data6000_ran$V3)
d10000_ran = data.frame(data10000_ran$V2,data10000_ran$V3)
g1000_ran = graph.data.frame(d1000_ran,directed=FALSE)
g2000_ran = graph.data.frame(d2000_ran,directed=FALSE)
g3000_ran = graph.data.frame(d3000_ran,directed=FALSE)
g4000_ran = graph.data.frame(d4000_ran,directed=FALSE)
g5000_ran = graph.data.frame(d5000_ran,directed=FALSE)
g6000_ran = graph.data.frame(d6000_ran,directed=FALSE)
g10000_ran = graph.data.frame(d10000_ran,directed=FALSE)

g1000_heavy = simplify(g1000_heavy)
g2000_heavy = simplify(g2000_heavy)
g3000_heavy = simplify(g3000_heavy)
g4000_heavy = simplify(g4000_heavy)
g5000_heavy = simplify(g5000_heavy)
g6000_heavy = simplify(g6000_heavy)
g10000_heavy = simplify(g10000_heavy)

g1000_ran = simplify(g1000_ran)
g2000_ran = simplify(g2000_ran)
g3000_ran = simplify(g3000_ran)
g4000_ran = simplify(g4000_ran)
g5000_ran = simplify(g5000_ran)
g6000_ran = simplify(g6000_ran)
g10000_ran = simplify(g10000_ran)

transitivity(g1000_heavy,type='average',isolates='zero')
transitivity(g2000_heavy,type='average',isolates='zero')
transitivity(g3000_heavy,type='average',isolates='zero')
transitivity(g4000_heavy,type='average',isolates='zero')
transitivity(g5000_heavy,type='average',isolates='zero')
transitivity(g6000_heavy,type='average',isolates='zero')
transitivity(g10000_heavy,type='average',isolates='zero')
average.path.length(g1000_heavy)
average.path.length(g2000_heavy)
average.path.length(g3000_heavy)
average.path.length(g4000_heavy)
average.path.length(g5000_heavy)
average.path.length(g6000_heavy)
average.path.length(g10000_heavy)

transitivity(g1000_ran,type='average',isolates='zero')
transitivity(g2000_ran,type='average',isolates='zero')
transitivity(g3000_ran,type='average',isolates='zero')
transitivity(g4000_ran,type='average',isolates='zero')
transitivity(g5000_ran,type='average',isolates='zero')
transitivity(g6000_ran,type='average',isolates='zero')
transitivity(g10000_ran,type='average',isolates='zero')
average.path.length(g1000_ran)
average.path.length(g2000_ran)
average.path.length(g3000_ran)
average.path.length(g4000_ran)
average.path.length(g5000_ran)
average.path.length(g6000_ran)
average.path.length(g10000_ran)

rg_1000 = erdos.renyi.game(vcount(g1000_ran),ecount(g1000_ran),type='gnm')
rg_2000 = erdos.renyi.game(vcount(g2000_ran),ecount(g2000_ran),type='gnm')
rg_3000 = erdos.renyi.game(vcount(g3000_ran),ecount(g3000_ran),type='gnm')
rg_4000 = erdos.renyi.game(vcount(g4000_ran),ecount(g4000_ran),type='gnm')
rg_5000 = erdos.renyi.game(vcount(g5000_ran),ecount(g5000_ran),type='gnm')
rg_6000 = erdos.renyi.game(vcount(g6000_ran),ecount(g6000_ran),type='gnm')
rg_10000 = erdos.renyi.game(vcount(g10000_ran),ecount(g10000_ran),type='gnm')
transitivity(rg_1000,type='average',isolates='zero')
transitivity(rg_2000,type='average',isolates='zero')
transitivity(rg_3000,type='average',isolates='zero')
transitivity(rg_4000,type='average',isolates='zero')
transitivity(rg_5000,type='average',isolates='zero')
transitivity(rg_6000,type='average',isolates='zero')
transitivity(rg_10000,type='average',isolates='zero')
average.path.length(rg_1000)
average.path.length(rg_2000)
average.path.length(rg_3000)
average.path.length(rg_4000)
average.path.length(rg_5000)
average.path.length(rg_6000)
average.path.length(rg_10000)



x = which(clusters(g1000_ran)$csize==max(clusters(g1000_ran)$csize))
g1000_ran_m = g1000_ran-vertex(which(clusters(g1000_ran)$membership!=x))
V(g1000_ran_m)$color="black"
set.seed(14)
plot(g1000_ran_m,vertex.shape=V(g1000_ran_m)$shape,vertex.label=NA,vertex.size=0)
#plot(g1000_ran_m, vertex.label=NA,vertex.size=0)

x = which(clusters(g2000_ran)$csize==max(clusters(g2000_ran)$csize))
g2000_ran_m = g2000_ran-vertex(which(clusters(g2000_ran)$membership!=x))
V(g2000_ran_m)$color="black"
set.seed(14)
plot(g2000_ran_m,vertex.shape=V(g2000_ran_m)$shape,vertex.label=NA,vertex.size=0)

pdf("C:\\Documents and Settings\\Administrator\\桌面\\small_world_3000.pdf", width=10, height=10)
#par(mar=c(0.5,1,0.5,1))
#d,l,u,r
par(mar=c(0.5,1,0.5,1)+0.1)
x = which(clusters(g3000_ran)$csize==max(clusters(g3000_ran)$csize))
g3000_ran_m = g3000_ran-vertex(which(clusters(g3000_ran)$membership!=x))
V(g3000_ran_m)$color="black"
set.seed(14)
plot(g3000_ran_m,vertex.shape=V(g3000_ran_m)$shape,vertex.label=NA,vertex.size=0,vertex.color='black',vertex.frame.color='NA')
dev.off()


